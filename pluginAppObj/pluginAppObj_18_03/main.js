function youtubegallery_pluginAppObj_18_03(){function getImagePreview(url,id,i){callLinkResolution(url,id,res[i],i)}function callLinkResolution(url,id,resI,i){var _url=url+id+resI,tmpClass=id+"_"+i+"_tmp",img=$("<img class='"+tmpClass+"' style='visibility: hidden; opacity: 0'/>");img.one("load",function(){$("#youtubegallery_pluginAppObj_18_03 div.swiper-slide-active").append(img);var widthImg=img.width(),heightImg=img.height();$("#youtubegallery_pluginAppObj_18_03 div.swiper-slide-active ."+tmpClass).remove();widthImg==120&&heightImg==90?i<3?getImagePreview(url,id,i+1):setBackgroundImage("https://img.youtube.com/vi/",id):setBackgroundImage(_url,id)});img.attr("src",_url)}function getImageOnLine(id){$.ajax({url:"pluginAppObj/pluginAppObj_18_03/lib.php?action=getThumb",type:"POST",data:{id:id},dataType:"json"}).fail(function(){setBackgroundImage("https://img.youtube.com/vi/",id)}).done(function(data){data==""?setBackgroundImage("https://img.youtube.com/vi/",id):setBackgroundImage(data,id)})}function setBackgroundImage(_url,id){$('#youtubegallery_pluginAppObj_18_03 div.swiper-slide[data-video="'+id+'"]').css("background-image","url("+_url+")");$('#youtubegallery_pluginAppObj_18_03 div.swiper-slide[data-video="'+id+'"] > .imLoadAnim').remove()}function youTubeParser(url){var match=url.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/);return match&&match[7].length==11?match[7]:!1}function getThumbUrlYouTube(url){var id=youTubeParser(url);return getImageOnLine(id)}function resizeYouTubeGallery_pluginAppObj_18_03(){var container_width=$("#pluginAppObj_18_03").width(),heightUI=720,widthUI=1280,height=heightUI,width=widthUI,max_width=container_width,controls_padding=0,pagination_padding=0,customHeight;fullWidth&&!0?(height=max_width>widthUI?heightUI:(max_width-controls_padding)/widthUI*height,width=container_width-controls_padding,$("#youtubegallery_pluginAppObj_18_03").css({width:width,height:height+pagination_padding})):(max_width=container_width<width?container_width:width,height=(max_width-controls_padding)/width*height,width=max_width-controls_padding,$("#youtubegallery_pluginAppObj_18_03").css({width:max_width,height:height+pagination_padding}));$("#pluginAppObj_18_03 .swiper-container.main").css({width:width,height:height});$("#pluginAppObj_18_03 .swiper-button-next, #pluginAppObj_18_03 .swiper-button-prev").css({top:height/2});$("#pluginAppObj_18_03 .swiper-container.thumbs").css({width:width});$("#youtubegallery_pluginAppObj_18_03").css({width:max_width,height:height+pagination_padding});$("#youtubegallery_pluginAppObj_18_03 .swiper-container.main .slide-content").css("height",height)}function loadYouTubeGallery(){pluginAppObj_18_03YouTubeGallery=new Swiper("#pluginAppObj_18_03 .swiper-container.main",{slidesPerView:1,slidesPerColumn:1,spaceBetween:5,freeMode:!0,speed:1e3,roundLengths:!0,autoplay:3e3,autoplayDisableOnInteraction:!0,scrollbar:"#pluginAppObj_18_03 .swiper-scrollbar",nextButton:"#pluginAppObj_18_03 .swiper-button-next",prevButton:"#pluginAppObj_18_03 .swiper-button-prev",paginationClickable:!0,pagination:"#pluginAppObj_18_03 .swiper-pagination",paginationType:"bullets",controlBy:"container"})}var pluginAppObj_18_03YouTubeGallery,divContainer=$("#youtubegallery_pluginAppObj_18_03"),preview,lengthList=0,animation="",fullWidth=!1,res=["/maxresdefault.jpg","/hqdefault.jpg","/mqdefault.jpg","/sddefault.jpg"];x5engine.boot.push(function(){function load(){resizeYouTubeGallery_pluginAppObj_18_03();pluginAppObj_18_03YouTubeGallery.update();pluginAppObj_18_03YouTubeGallery.slideTo(0,1,null)}function loadHtml(){var i,icon_play,slide;if(!preview){animation=x5engine.settings.imLoadingAnimation;lengthList=2;var links="https://www.youtube.com/watch?v=GTN79rOS6V4||https://www.youtube.com/watch?v=KCD5RK94n7s||",arrLinks=links.substring(0,links.length-2).split("||");for(html="<div class='swiper-container main'>",html+="<div class='swiper-wrapper'>",i=0;i<lengthList;i++)getThumbUrlYouTube(arrLinks[i]),icon_play="",!0&&(icon_play='<yt-icon id="play" icon="play_all" class="fade-in"><svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" focusable="false" class="yt-icon"><g class="yt-icon"><path d="M8 5v14l11-7z" class="yt-icon"><\/path><\/g><\/svg><\/yt-icon>'),slide="<div class='swiper-slide' data-video='"+youTubeParser(arrLinks[i])+"'>\n",slide+=icon_play+"\n",slide+="<\/div>\n",html+=slide;html+="<\/div>";!0&&(html+="<div class='swiper-button-prev'><\/div>",html+="<div class='swiper-button-next'><\/div>",!0&&(html+="<div class='swiper-pagination'><\/div>"));!0&&(html+="<div class='swiper-scrollbar'><\/div>");html+="<\/div>";!1&&(html+="<div class='swiper-button-prev'><\/div>",html+="<div class='swiper-button-next'><\/div>",!0&&(html+="<div class='swiper-pagination'><\/div>"));$(divContainer).append(html);$("#youtubegallery_pluginAppObj_18_03 div.swiper-slide").append(animation);$("#youtubegallery_pluginAppObj_18_03 .swiper-slide").on("click",function(){var url="https://www.youtube.com/watch?v="+$(this).attr("data-video"),win;x5engine.imShowBox({media:[{url:url,width:1280,height:720,type:"youtube"}]},0,$("#youtubegallery_pluginAppObj_18_03"))})}}preview=!1;var pluginAppObj_18_03_resizeTo=null,pluginAppObj_18_03_firstTime=!0,pluginAppObj_18_03_width=0;x5engine.utils.onElementResize(document.getElementById("pluginAppObj_18_03"),function(rect){pluginAppObj_18_03_width!=rect.width&&(pluginAppObj_18_03_width=rect.width,!pluginAppObj_18_03_resizeTo||clearTimeout(pluginAppObj_18_03_resizeTo),pluginAppObj_18_03_resizeTo=setTimeout(function(){pluginAppObj_18_03_firstTime||($("#pluginAppObj_18_03").css("overflow-x","hidden"),load());pluginAppObj_18_03_firstTime=!1},50))});loadHtml();resizeYouTubeGallery_pluginAppObj_18_03();loadYouTubeGallery()})}