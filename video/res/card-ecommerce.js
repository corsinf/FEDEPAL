/*minified*/
async function ecommerceAllInOne(t,e){let a="./../Templates/";e&&(a=e);var e=await fetch(a+"card-style.hbs"),i=await fetch(a+"image-style.hbs"),o=await fetch(a+"title-style.hbs"),l=await fetch(a+"contents-style.hbs"),r=await fetch(a+"cockades-style.hbs"),e=await e.text(),i=await i.text(),o=await o.text(),l=await l.text(),r=await r.text(),n=await fetch(a+"card.hbs"),c=await fetch(a+"image.hbs"),s=await fetch(a+"title.hbs"),d=await fetch(a+"contents.hbs"),g=await fetch(a+"cockades.hbs"),n=await n.text(),c=await c.text(),s=await s.text(),d=await d.text(),g=await g.text();Handlebars.registerPartial("cardEcommerceImageStylePartial",i),Handlebars.registerPartial("cardEcommerceTitleStylePartial",o),Handlebars.registerPartial("cardEcommerceContentsStylePartial",l),Handlebars.registerPartial("cardEcommerceCockadesStylePartial",r),Handlebars.registerPartial("cardEcommerceImagePartial",c),Handlebars.registerPartial("cardEcommerceTitlePartial",s),Handlebars.registerPartial("cardEcommerceContentsPartial",d),Handlebars.registerPartial("cardEcommerceCockadesPartial",g);let u=e,y=n,m=!1;(m=t.products?!0:m)&&(i=await(await fetch(a+"cardlayout-style.hbs")).text(),o=await(await fetch(a+"cardlayout.hbs")).text(),Handlebars.registerPartial("cardEcommerceCardStylePartial",e),Handlebars.registerPartial("cardEcommerceCardPartial",n),u=i,y=o);l=Handlebars.compile(u)(t),r=Handlebars.compile(y)(t),c=document.getElementsByTagName("style");return!c||c.length<=0?((s=document.createElement("style")).innerHTML=l,document.head.appendChild(s)):c[0].innerHTML+=l,r}function floatColorComponentAlpha(t){t.backgroundColor.a/=255,t.border.colors.top.a/=255,t.border.colors.bottom.a/=255,t.border.colors.left.a/=255,t.border.colors.right.a/=255,t.shadow.color.a/=255,t.txtBlock.name.style.backgroundColor.a/=255,t.txtBlock.name.style.textColor.a/=255,t.txtBlock.description.style.backgroundColor.a/=255,t.txtBlock.description.style.textColor.a/=255,t.txtBlock.details.style.backgroundColor.a/=255,t.txtBlock.details.style.textColor.a/=255,t.txtBlock.button.style.backgroundColor.a/=255,t.txtBlock.button.style.textColor.a/=255,t.txtBlock.button.border.colors.top.a/=255,t.txtBlock.button.border.colors.bottom.a/=255,t.txtBlock.button.border.colors.left.a/=255,t.txtBlock.button.border.colors.right.a/=255,t.wishlist.color.a/=255}function fontStyleWeightComponents(t){t.txtBlock.name.style.font.weight||(t.txtBlock.name.style.font.weight="normal"),t.txtBlock.description.style.font.weight||(t.txtBlock.description.style.font.weight="normal"),t.txtBlock.details.style.font.weight||(t.txtBlock.details.style.font.weight="normal"),t.txtBlock.details.priceStyle.font.weight||(t.txtBlock.details.priceStyle.font.weight="normal"),t.txtBlock.button.style.font.weight||(t.txtBlock.button.style.font.weight="normal"),"regular"==t.txtBlock.name.style.font.style&&(t.txtBlock.name.style.font.style="normal"),"regular"==t.txtBlock.description.style.font.style&&(t.txtBlock.description.style.font.style="normal"),"regular"==t.txtBlock.details.style.font.style&&(t.txtBlock.details.style.font.style="normal"),"regular"==t.txtBlock.details.priceStyle.font.style&&(t.txtBlock.details.priceStyle.font.style="normal"),"regular"==t.txtBlock.button.style.font.style&&(t.txtBlock.button.style.font.style="normal"),"bold"==t.txtBlock.name.style.font.style&&(t.txtBlock.name.style.font.weight="bold",t.txtBlock.name.style.font.style="normal"),"bold"==t.txtBlock.description.style.font.style&&(t.txtBlock.description.style.font.weight="bold",t.txtBlock.description.style.font.style="normal"),"bold"==t.txtBlock.details.style.font.style&&(t.txtBlock.details.style.font.weight="bold",t.txtBlock.details.style.font.style="normal"),"bold"==t.txtBlock.details.priceStyle.font.style&&(t.txtBlock.details.priceStyle.font.weight="bold",t.txtBlock.details.priceStyle.font.style="normal"),"bold"==t.txtBlock.button.style.font.style&&(t.txtBlock.button.style.font.weight="bold",t.txtBlock.button.style.font.style="normal"),"bold, italic"==t.txtBlock.name.style.font.style&&(t.txtBlock.name.style.font.weight="bold",t.txtBlock.name.style.font.style="italic"),"bold, italic"==t.txtBlock.description.style.font.style&&(t.txtBlock.description.style.font.weight="bold",t.txtBlock.description.style.font.style="italic"),"bold, italic"==t.txtBlock.details.style.font.style&&(t.txtBlock.details.style.font.weight="bold",t.txtBlock.details.style.font.style="italic"),"bold, italic"==t.txtBlock.details.priceStyle.font.style&&(t.txtBlock.details.priceStyle.font.weight="bold",t.txtBlock.details.priceStyle.font.style="italic"),"bold, italic"==t.txtBlock.button.style.font.style&&(t.txtBlock.button.style.font.weight="bold",t.txtBlock.button.style.font.style="italic")}function getCalculatedGlobalData(t,e){let a=479.9;x5engine.settings.breakPoints&&0<x5engine.settings.breakPoints.length&&(a=x5engine.settings.breakPoints[x5engine.settings.breakPoints.length-1].start);var i={},t=(t.image.mouseovereffect&&("grow"==t.image.mouseovereffect?i.imageOverRule="transform: scale(1.1); ":"shrink"==t.image.mouseovereffect?i.imageOverRule="transform: scale(0.9); ":"rotate"==t.image.mouseovereffect&&(i.imageOverRule="transform: rotate(4deg); ")),i.descFadeHeightPx=(""+Math.round(1.33*t.txtBlock.description.style.font.size*1.5)).replace(",","."),i.productOptionsSelectHeight=Math.ceil(2.67*t.txtBlock.details.style.font.size),i.productQtyShow=t.txtBlock.button.show&&t.txtBlock.details.showQuantity,i.isAddToCartButtonTypeImage=t.txtBlock.button.useImage,i.isAddToCartButtonTypeText=!i.isAddToCartButtonTypeImage,i.cockadeNewCss=cssPositioning(t.cockades.new.align),i.cockadeDiscountCss=cssPositioning(t.cockades.discount.align),i.cardContentLayout="horizontal-cover-left","leftcoverrightcontents"==t.type?i.cardContentLayout="horizontal-cover-left":"leftcontentsrightcover"==t.type?i.cardContentLayout="horizontal-cover-right":"topcoverbottomcontents"==t.type?i.cardContentLayout="vertical-cover-top":"topcontentsbottomcover"==t.type&&(i.cardContentLayout="vertical-title-top"),!e.cardContentLayout||"horizontal-cover-left"!=e.cardContentLayout&&"horizontal-cover-right"!=e.cardContentLayout&&"vertical-cover-top"!=e.cardContentLayout&&"vertical-title-top"!=e.cardContentLayout&&"cover-as-background"!=e.cardContentLayout||(i.cardContentLayout=e.cardContentLayout),i.cardFixedHeight=!1,!e.cardLayoutCardArrangement||"same-height"!=e.cardLayoutCardArrangement&&"slideshow"!=e.cardLayoutCardArrangement||(i.cardFixedHeight=!0),i.isArrangeSameHeight=e.cardLayoutCardArrangement&&"same-height"==e.cardLayoutCardArrangement,i.isArrangeChangingHeight=e.cardLayoutCardArrangement&&"changing-height"==e.cardLayoutCardArrangement,i.isArrangeSlideshow=e.cardLayoutCardArrangement&&"slideshow"==e.cardLayoutCardArrangement,i.isArrangeMasonry=e.cardLayoutCardArrangement&&"masonry"==e.cardLayoutCardArrangement,i.isArrangeSameHeightOrChangingHeight=i.isArrangeSameHeight||i.isArrangeChangingHeight,i.isArrangeChangingHeightOrMasonry=i.isArrangeChangingHeight||i.isArrangeMasonry,i.isLayoutHorizontalCoverLeft="horizontal-cover-left"==i.cardContentLayout,i.isLayoutHorizontalCoverRight="horizontal-cover-right"==i.cardContentLayout,i.layoutHorizontalMediaQueryStart="@media (min-width: "+(a+.1)+"px) {",i.isLayoutVerticalCoverTop="vertical-cover-top"==i.cardContentLayout,i.isLayoutVerticalTitleTop="vertical-title-top"==i.cardContentLayout||i.isLayoutHorizontalCoverLeft||i.isLayoutHorizontalCoverRight,i.layoutVerticalMediaQueryStart="vertical-title-top"==i.cardContentLayout?"":"@media (max-width: "+a+"px) {",i.layoutVerticalMediaQueryEnd="vertical-title-top"==i.cardContentLayout?"":"}",i.isLayoutCoverAsBackground="cover-as-background"==i.cardContentLayout,i.isLayoutVertical=i.isLayoutVerticalCoverTop||i.isLayoutVerticalTitleTop,i.isLayoutHorizontal=i.isLayoutHorizontalCoverLeft||i.isLayoutHorizontalCoverRight,i.verticalImageHeight=t.height*t.image.percentSize/100,!e.cardLayoutCardArrangement||"same-height"!=e.cardLayoutCardArrangement&&"slideshow"!=e.cardLayoutCardArrangement||"vertical-cover-top"!=i.cardContentLayout&&"vertical-title-top"!=i.cardContentLayout||(i.verticalImageHeight=t.height-t.txtBlock.height-t.txtBlock.margins.top-t.txtBlock.margins.bottom,i.verticalImageHeight<0&&(i.verticalImageHeight=0)),i.verticalTitleHeight=.2*t.height*(100-t.image.percentSize)/100,t.txtBlock.name.show&&!t.txtBlock.details.showCategory?i.verticalTitleHeight=.16*t.height*(100-t.image.percentSize)/100:!t.txtBlock.name.show&&t.txtBlock.details.showCategory?i.verticalTitleHeight=.1*t.height*(100-t.image.percentSize)/100:t.txtBlock.name.show||t.txtBlock.details.showCategory||(i.verticalTitleHeight=0),i.verticalContentsHeight=.8*t.height*(100-t.image.percentSize)/100,t.txtBlock.name.show&&!t.txtBlock.details.showCategory?i.verticalContentsHeight=.84*t.height*(100-t.image.percentSize)/100:!t.txtBlock.name.show&&t.txtBlock.details.showCategory?i.verticalContentsHeight=.9*t.height*(100-t.image.percentSize)/100:t.txtBlock.name.show||t.txtBlock.details.showCategory||(i.verticalContentsHeight=t.height*(100-t.image.percentSize)/100),{...e,...i});return t}function getCalculatedDataMulti(t,e,a,i,o,l,r){var n=[];for(prId in e){var c=e[prId];n.push(getCalculatedData(t,c,a,i,o,l,r))}return n}function getCalculatedData(t,e,a,i,o,l,r){var n,c={},s=(c.productId=e.id,c.productName=e.name,e.link&&(c.link=e.link),c.productMinQty=e.minQty,c.pathImage=r.noPreviewImage,c.isPlaceholderImage=!0,c.altImage=void 0,c.titleImage=void 0,null!=e.media&&0<e.media.length&&null!=e.media[0]&&(c.pathImage="video"===e.media[0].type?"res/video_thumb.svg":e.media[0].url,c.isPlaceholderImage="video"===e.media[0].type,"image"===e.media[0].type)&&(e.media[0].alt&&(c.altImage=e.media[0].alt),e.media[0].title)&&(c.titleImage=e.media[0].title),getSearchPageCardLinks(e,l));if(x5engine.responsive.isAnyMobileDevice()&&l.image.isLink&&e.showboxLink&&e.link||(c.linkJsImage=x5engine.utils.linkJs(s.image,{baseUrl:"../"})),c.linkHtmlTitle=x5engine.utils.linkHtml(s.title,{content:e.name,baseUrl:"../"}).trim(),c.linkJsProduct=x5engine.utils.linkJs(s.title,{baseUrl:"../"}),c.linkOnlyShowbox=void 0,l.image.isLink&&e.showboxLink&&(c.linkOnlyShowbox=x5engine.utils.linkJs(e.showboxLink,{baseUrl:"../"})),c.linkOnlyDetails=void 0,e.link&&(c.linkOnlyDetails=x5engine.utils.linkJs(e.link,{baseUrl:"../"})),c.categoryName=getProductCategoryName(e.category,o),c.desc=e.description.replace("\n","<br />").replace("\r","").replace("\\","\\\\").replace("'","&#39;"),c.productAvailabilityShow=l.txtBlock.details.showAvailability&&"unset"!=e.availabilityType,c.isAvailabilityTypeFixed="fixed"==e.availabilityType,c.isStaticAvailValueSet=!x5engine.utils.isNullOrEmpty(r.availabilityImage)&&"unknown"!=e.staticAvailValue,c.isDynamicAvailValueSet=!1,a&&a[e.id]&&(c.isDynamicAvailValueSet=null!=a[e.id]),c.availabilityImage=void 0,c.availabilityLabel=void 0,c.isAvailabilityTypeFixed?c.isStaticAvailValueSet&&(c.availabilityImage=getAvailabilityImage(e.staticAvailValue,r),c.availabilityLabel=getAvailabilityLabel(e.staticAvailValue,t)):r.uploadVersion?c.isDynamicAvailValueSet&&(c.availabilityImage=getAvailabilityImage(a[e.id].availability,r),c.availabilityLabel=getDynamicAvailabilityLabel(a[e.id].availability,a[e.id].quantity,t)):(c.availabilityImage=getAvailabilityImage(e.staticAvailValue,r),c.availabilityLabel=getDynamicAvailabilityLabel(e.staticAvailValue,e.offlineAvailableItems,t)),c.productOptionsShow=l.txtBlock.details.showOptions&&null!=e.options,c.productNoSuboptions=!0,c.options=[],e.options)for(option in e.options){e.options[option].suboptions&&0<e.options[option].suboptions.length&&(c.productNoSuboptions=!1);let t=void 0;e.options[option].suboptions&&(t=e.options[option].suboptions),c.options.push({id:option,name:e.options[option].name,weightvar:e.options[option].weightvar,pricevar:e.options[option].pricevar,suboptions:t})}for(n in c.hasQuantityDiscounts=e.quantityDiscounts&&l.txtBlock.details.showQuantity,c.quantityDiscountTextCartDiscountPerQty=[],e.quantityDiscounts){var d=n,g=(100*e.quantityDiscounts[n]).toFixed(2),g=g%1==0?parseInt(g):g,d=t.cart_discount_per_qty.replace("[QUANTITY]",d).replace("[DISCOUNT]",g);c.quantityDiscountTextCartDiscountPerQty.push(d)}s=l.txtBlock.details.showVat&&"none"!=x5CartData.settings.vattype;let u="included"===r.vattype;return e.vattype&&(u="included"===e.vattype),c.isVatIncluded=u,c.vat=r.vat,e.vat&&(c.vat=e.vat),c.vatName=r.vatName,e.vatName&&(c.vatName=e.vatName),c.productVatInfoText="",s&&(u?c.productVatInfoText=t.cart_showvat_included:c.productVatInfoText=t.cart_showvat_excluded,c.productVatInfoText=c.productVatInfoText.replace("[FIELD]",c.vat).replace("[NAME]",c.vatName)),c.productSingleFullPriceCurrency=getProductSinglePriceCurrency(e,u,!1),c.productSinglePriceIsFullPrice=getProductSinglePriceIsFullPrice(e,u),c.productSinglePriceCurrency=productSinglePriceCurrency(e,u),c.productDiscountedRegardlessOfCouponAndQuantity=e.discount&&e.discount.type&&("absolute"==e.discount.type||"relative"==e.discount.type),c.productNotDiscountedRegardlessOfCouponAndQuantity=!c.productDiscountedRegardlessOfCouponAndQuantity||getProductSinglePriceIsFullPrice(e,u),c.productSingleLowestPriceCurrency=0<=e.lowestPrice?getProductSinglePriceCurrency(e,u,!0):"",c.productLowestPriceText=t.cart_lowest_price,c.cartMinQtyText=t.cart_min_qty.replace(/\[MINQUANTITY\]/g,e.minQty||1),c.isWishlisted=!1,i&&(c.isWishlisted=i.includes(e.id)),c.cockadeNewShow=e.isNew&&l.cockades.new&&!!l.cockades.new.image,c.cockadeDiscountShow=(e.discount||e.quantityDiscounts)&&l.cockades.discount&&!!l.cockades.discount.image,c}function getSearchPageCardLinks(t,e){e=e.image.isLink&&t.showboxLink;return{image:e||t.link,title:t.link||e}}function getProductCategoryName(e,a){if(null!=a)for(let t=0;t<a.length;t++)if("category"==a[t].type){if(a[t].id==e)return a[t].text;if(null!=a[t].items&&0<a[t].items.length){var i=getProductCategoryName(e,a[t].items);if(i)return i}}return""}function getAvailabilityLabel(t,e){switch(t){case"available":return e.cart_fixedproduct_available;case"lacking":return e.cart_fixedproduct_lack;case"notavailable":return e.cart_fixedproduct_unavailable}return""}function getDynamicAvailabilityLabel(t,e,a){switch(t){case"available":return a.cart_dynamicproduct_available.replace("[QUANTITY]",e);case"lacking":return a.cart_dynamicproduct_lack.replace("[QUANTITY]",e);case"notavailable":return a.cart_dynamicproduct_unavailable.replace("[QUANTITY]",e)}return""}function getAvailabilityImage(t,e){var a="",i=e.currentPath+e.availabilityImage;if(null!=e.availabilityImage)switch(t){case"available":a+="\t\t\t\t<span style=\"vertical-align: middle; display: inline-block; width: 22px; height: 22px; background-image: url('"+i+"'); background-position: 0 0;\"></span>\n";break;case"lacking":a+="\t\t\t\t<span style=\"vertical-align: middle; display: inline-block; width: 22px; height: 22px; background-image: url('"+i+"'); background-position: -22px 0;\"></span>\n";break;case"notavailable":a+="\t\t\t\t<span style=\"vertical-align: middle; display: inline-block; width: 22px; height: 22px; background-image: url('"+i+"'); background-position: -44px 0;\"></span>\n"}return a}function getProductSinglePriceCurrency(t,e,a){t=x5engine.cart.htmlProducts.getProdClass(t).singleFullPrice(void 0,e,a);return x5engine.cart.manager.formatCurrency(t)}function productSinglePriceCurrency(t,e){t=x5engine.cart.htmlProducts.getProdClass(t).singlePrice(void 0,e);return x5engine.cart.manager.formatCurrency(t)}function getProductSinglePriceIsFullPrice(t,e){var t=x5engine.cart.htmlProducts.getProdClass(t),a=t.singleFullPrice(void 0,e);return t.singlePrice(void 0,e)==a}function cssPositioning(t){switch(t){case"topleft":return"top: 0; left: 0;";case"topright":return"top: 0; right: 0;";case"bottomright":return"bottom: 0; right: 0;";case"bottomleft":return"bottom: 0; left: 0;"}return""}